class CodeRunner extends HTMLElement{constructor(){super()}connectedCallback(){let o=this.getAttribute("language"),e=this.getAttribute("version"),t=`<style>.code-knack-playground{position:relative;background-color:#3a3636;background-color:var(--bg,#3a3636);border-radius:10px;border:1px solid var(--border,rgba(0,0,0,0.1))}.code-knack-playground.line-number .CodeMirror{padding-left:0}.code-knack-playground img{max-width:90%!important;display:inline-block!important;border-radius:0!important;box-shadow:none!important}.code-knack-playground .code-knack-pane{height:40px;display:flex;border-radius:3px}.code-knack-playground .code-knack-pane .code-knack-title{flex:1;padding-left:20px;color:var(--title,#fff);display:flex;font-size:14px;font-family:'Metropolis-Medium',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,'Helvetica Neue',sans-serif;align-items:center;opacity:.5}.code-knack-playground .code-knack-pane .code-knack-ctrl{flex:1;display:flex;justify-content:flex-end}.code-knack-playground .code-knack-pane button.ck-button{height:40px;padding:0 16px;font-size:14px;background:transparent;border:none;border-radius:0;color:var(--button-text,wheat);opacity:.8;outline:none;display:flex;align-items:center;box-shadow:-1px 0 0 0 var(--button-border,rgba(0,0,0,0.5))}.code-knack-playground .code-knack-pane button.ck-button img{height:14px;margin-right:3px}.code-knack-playground .code-knack-pane button.ck-button:hover{opacity:1}.code-knack-playground .code-knack-pane button.ck-button:active{opacity:.6}.code-knack-playground pre{background:transparent;color:var(--code,white);border-bottom-left-radius:3px;border-bottom-right-radius:3px}.code-knack-playground .CodeMirror{padding-left:16px}.code-knack-playground .CodeMirror,.code-knack-playground .code-knack-text{font-size:14px;line-height:18px;height:auto}.code-knack-playground .CodeMirror pre,.code-knack-playground .code-knack-text pre{padding:0 4px;font-family:'Menlo','Roboto Mono','Courier New',Courier,monospace!important}.code-knack-playground .code-knack-text{color:var(--code,white);border:none;width:100%;height:100%;background:var(--code-bg,rgba(39,40,35,1));font-family:'Menlo','Roboto Mono','Courier New',Courier,monospace!important}.code-knack-playground .code-knack-output{display:none;background:var(--bg,#3a3636);font-family:'Menlo','Roboto Mono','Courier New',Courier,monospace!important;border-top:1px solid var(--border,rgba(0,0,0,0.1))}.code-knack-playground .code-knack-output .code-knack-output-title{color:var(--text,white);opacity:.6;font-size:12px;margin:0 10px 0 20px;padding:4px 0;font-family:"Metropolis-Medium" -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,'Helvetica Neue',sans-serif;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(255,255,255,0.06)}.code-knack-playground .code-knack-output .code-knack-output-content{color:var(--text,white);white-space:pre-line;padding:8px 12px 8px 20px;font-size:14px;overflow:auto;white-space:pre-wrap}.code-knack-playground .code-knack-output.html-output .code-knack-output-content{max-width:100%!important;background:rgba(252,253,255,1);margin:0 10px;color:#000;border-radius:3px;border:1px solid var(--border,rgba(0,0,0,0.1))}.code-knack-playground .code-knack-output.html-output .code-knack-output-content .katex .base{margin:10px 0}.code-knack-playground .code-knack-footer{background-color:#3a3636;background-color:var(--bg,#3a3636);height:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.code-knack-playground .code-knack-mask{display:none;position:absolute;top:0;left:0;right:0;bottom:0;color:#fff;z-index:10;align-items:center;justify-content:center;background:rgba(0,0,0,0.4)}</style>`;if(!o||!e)return this.innerHTML=`${t}    <div> <pre style="padding: 0px; --bg:rgb(58, 54, 54); --text:rgb(255, 255, 255); --border:rgba(0,0,0,0.3); --code:rgb(255, 255, 255); --code-bg:rgba(39, 40, 35, 1); --title:rgb(255, 255, 255); --button-text:wheat; --button-border:rgba(0,0,0,0.18);"><div class="code-knack-playground "><div class="code-knack-pane"><div class="code-knack-title">Error!</div> </div><div id="codetorun" class="code-knack-text" style="/* display: none; */">Error: Required HTML Attributes Missing For Web Component ... </div> </div> </div>`;this.innerHTML=` ${t} <div code-runner-component language=${o} version=${e}> <pre style="padding: 0px; --bg:rgb(58, 54, 54); --text:rgb(255, 255, 255); --border:rgba(0,0,0,0.3); --code:rgb(255, 255, 255); --code-bg:rgba(39, 40, 35, 1); --title:rgb(255, 255, 255); --button-text:wheat; --button-border:rgba(0,0,0,0.18);"><div class="code-knack-playground " data-lang="cpp" data-options=""><div class="code-knack-pane"><div class="code-knack-title">${o}</div><div class="code-knack-ctrl"><button class="ck-button run-button" code-runner-button><img src="./lib/code-knack/images/icon-play-dark.svg"><span >run</span></button><button class="ck-button copy-button"><img src="./lib/code-knack/images/icon-copy-dark.svg"><span>copy</span></button></div> </div><div id="codetorun" class="code-knack-text" contenteditable style="/* display: none; */">${this.innerHTML} </div><div id="output_section" class="code-knack-output text-output"><div class="code-knack-output-title">Output</div><pre class="code-knack-output-content" id="result">Loading..<br></pre></div></div></pre> </div> </div>`}}async function getData(o){console.log(o.querySelector("#output_section"));let e=o.querySelector("#output_section");e.style.display="block";try{let t=await fetch("https://emkc.org/api/v2/piston/execute",{method:"POST",body:JSON.stringify({language:o.getAttribute("language").toLowerCase(),version:o.getAttribute("version"),files:[{content:o.querySelector("#codetorun").innerText}]})}),n=await t.json();console.log(n),n.message?o.querySelector("#result").innerText=JSON.stringify(`Error ${n.message}`):o.querySelector("#result").innerText=n.run.output}catch(r){console.log(r.message),o.querySelector("#result").innerText=r.message}}window.customElements.define("code-runner",CodeRunner);const web_compontents=document.querySelectorAll("[code-runner-component]");function handleClick(o){getData(o)}web_compontents.forEach(o=>o.querySelector("[code-runner-button]").addEventListener("click",e=>handleClick(o))); /**! * @license Run-Code-Web-Component - A web-component to run code examples (like Python, C++ & more) with ease on your website * LICENSED UNDER GPL-3.0 LICENSE * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Run-Code-Web-Component/ */
